# デバッグ機能
## Universal Monitor
- Universal Monitor IM6100版を，Control Panel空間で動くように改変したものを搭載しています．
- 使えるコマンドはS,D,L,Gです．
- コンテクストの退避&復帰と拡張メモリ対応は未実装．近日中に実装予定．

## デバッグログ
- DBG_UARTにログを出力します．
- top.vの `define USE_ACCESSLOG を有効にすると使えます．(無効化したことがないので無効化してちゃんとビルドできるかどうかは不明)
- 詳細はtop.vを見て下さい．

### disk accessログ
- ディスクの読み書きがあった際のレジスタ値などを出力しています．

OS/8ブート時のログの例
```
時刻(ms),R/W, PC, Cmd reg., word cnt, mem addr, disk addr, drive No.
5542:RK rd,000027,000000,000400,000000,000000,000000
5558:RK rd,007671,000000,000400,000000,000007,000000
5563:RK rd,007671,001000,000400,000400,000010,000000
5567:RK rd,007671,001000,000400,001000,000011,000000
5572:RK rd,007671,001000,000400,001400,000012,000000
```

### 命令実行ログ
- HALT時やステップ実行時に最後に実行した命令やメモリアクセスを表示します．
- クロック1KHz以下の場合はRUN状態でも表示します．
```
時刻(ms), mnem, PC, inst, read addr, data, write addr, data
8992:JMP I,007777,005776,007776,005000,000000,000000
9024:JMS I,005000,004652,007000,000000,007000,005001
9058:KCC  ,007001,006032,006032,000000,006032,000000
9078:CLA  ,007002,007200,000000,000000,000000,000000
9108:JMP I,007003,005600,007000,005001,000000,000000
9128:CLA  ,005001,007200,000000,000000,000000,000000
9148:TAD  ,005002,001253,005053,000000,000000,000000
9170:DCA0 ,005003,003140,000140,000000,000140,000000
9190:TAD  ,005004,001253,005053,000000,000000,000000
9212:DCA0 ,005005,003142,000142,000000,000142,000000
9232:TAD  ,005006,001253,005053,000000,000000,000000
9254:DCA0 ,005007,003143,000143,000000,000143,000000

```