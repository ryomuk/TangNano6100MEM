# インターフェース
## Tang NanoのUSB端子
- 5V電源の供給，端末ソフトとの通信に使用

## Tang Nanoのスイッチ
- S1: ディスクイメージの選択に使用．(top.vの USER_drivesel 参照．)
- S2: 現在未使用．
- S1, S2の同時押しでCPUをRESET (top.vの reset_sw)
これらのスイッチの用途は今後変更する可能性が高いです．

## 基板のスイッチと端子
- SW1(HALT): 下に倒すと1命令毎にHALTし，ステップ実行になります．
- SW2(CONT): 押すとRUN_HLT_nをLにし，RUN/HLT状態を切りかえます．(厳密にはRUN_HLT_nの正エッジで切りかわる．)
 - ** IM6100はリセット時にPC=7777でHALTするので，1回押してRUNにします．**
 - ステップ実行モード以外のときに長押しするとRESET_nをL(enable)にし，CPUをリセットします．
 - ステップ実行モードのときクリックすると1命令実行，長押しすると連射が有効になり，30命令/秒で実行します．
- SW3(CPREQ): CPREQ_nをL(enable)にし，CP空間で動くプログラム(universal monitor)が起動します．
- J2〜J5: 実験用の端子です．
- J6(DISABLE): バススイッチのOE_nをHにしてCPUとFPGAを分離します．通常は使用しないので常時openでOKです．
- J7(DBG_UART): TXだけつながったデバッグ用のUARTです．3.3V出力(5VTTLで受信可)．USBシリアル変換ケーブルは3.3V用，5V用のどちらでもOKです．
- U5(LED matrix): 「XIAO用 6x10 RGBマトリックスボード」を接続します．VccとGNDが3つ，INが2つありますが，それぞれどれかを1つづつ接続すればOKです．

## ターミナルソフト(TeraTerm)との接続
- TeraTermの設定
  - 基本的には115200bps,8N1N．
  - 改行コードは入力はAUTO, 出力はCR (おかしい場合は適宜変更)
  - 送信遅延 10ms/字, 100ms/行 (ソフトウェアによっては速すぎることあり．適宜変更)
